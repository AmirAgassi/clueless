
import{r,j as e,t as u,A as p,e as f}from"./globals-DJztyVOz.js";function m({display:t,ipcChannel:a}){const[l,i]=r.useState(!1),[s,o]=r.useState(!1);r.useEffect(()=>{const d=()=>i(!0),c=()=>i(!1);return window.addEventListener("highlight",d),window.addEventListener("unhighlight",c),()=>{window.removeEventListener("highlight",d),window.removeEventListener("unhighlight",c)}},[]);const n=()=>{window.electron?.ipcRenderer?(console.log(`[DisplayOverlay] Sending click event for display ${t.id} on channel ${a}`),window.electron.ipcRenderer.send(a)):console.error("[DisplayOverlay] IPC renderer not available")};return e.jsx("button",{type:"button",className:u("w-full h-full flex flex-col justify-center items-center","font-sans text-white cursor-pointer transition-all duration-200 ease-in-out","bg-black/30 border-none outline-none focus:outline-none",s&&"bg-blue-500/40",l&&"bg-blue-500/60"),onClick:n,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:e.jsxs("div",{className:"text-center pointer-events-none",children:[e.jsxs("div",{className:"text-2xl font-semibold mb-2 drop-shadow-lg",children:["Click to move ",p]}),e.jsx("div",{className:"text-base opacity-80 drop-shadow-md mb-0",children:t.label}),e.jsxs("div",{className:"text-base opacity-80 drop-shadow-md",children:[t.bounds.width," Ã— ",t.bounds.height]})]})})}function w(){const[t,a]=r.useState(null),[l,i]=r.useState(null);return r.useEffect(()=>{try{const o=new URLSearchParams(window.location.search).get("displayData");if(!o)throw new Error("No display data provided in URL parameters");const n=JSON.parse(decodeURIComponent(o));if(!n.display||!n.ipcChannel)throw new Error("Invalid display data structure");console.log("[DisplayOverlayApp] Loaded display data:",n),a({display:n.display,ipcChannel:n.ipcChannel})}catch(s){console.error("Failed to parse display data:",s),i(s instanceof Error?s.message:"Unknown error")}},[]),l?e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-red-500/30 text-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-semibold mb-2",children:"Error"}),e.jsx("div",{className:"text-sm opacity-70",children:l})]})}):t?e.jsx(m,{display:t.display,ipcChannel:t.ipcChannel}):null}const h=document.getElementById("overlay-root");if(!h)throw new Error("Overlay root element not found");const y=f.createRoot(h);y.render(e.jsx(r.StrictMode,{children:e.jsx(w,{})}));